<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Basics</title>
    <style>
        .box {
            background-color: purple;
            height: 200px;
            width: 200px;
        }
        .box.two {
            background-color: green;
        }
        .box.three {
            background-color: orange;
        }
        input {
            margin: 10px;
            display: block;
        }
        /*this is the reccomended pattern for vcloak in vuejs*/
        [v-cloak] {
            display: none;
        }

    </style>
</head>
<body>
    <!--v-cloak is really useful. it takes over styling until the vue app completely loads and then it
    removes itself from the dom. -->
    <div id="app" v-cloak>
        <!--
            {{ greeting }}
            this directive handles 2 way data binding
            <input @keyup.enter="greet" v-model="greeting">
        -->
        <login-form />
        

        <hr />
        <button @click="toggleBox">Toggle box</button>
        <div v-if="isVisible" class="box"></div>
        
        <!--
            <div v-else-if="isVisible2" class="box two"></div>
            <div v-else class="box three"></div>
        -->
        
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <script>
        //create app takes the 'options' object as a argument
        //this is filled with keys:value pairs containing data in functions you intend to use in that app
        let app = Vue.createApp({
            data: function() {
                return {
                    greeting: 'Hello Vue',
                    isVisible: false,
                    isVisible2: true
                }
            },
            methods: {
                toggleBox() {
                    this.isVisible = !this.isVisible
                },
                greet() {
                    console.log(this.greeting)
                }

            } 
        })
        //components take 2 arguments: the name that will be used and an options object, same as the main app 
        //however, a component should define a template as well
        app.component('login-form', {
            template: `
                <h1>{{ title }}</h1>
                <form @submit.prevent="handleSubmit">
                    <input type="email" v-model="email"/>
                    <input type="password" v-model="password"/>
                    <button>Submit</button>                                        
                </form>
            `,
            data () {
                return {
                    title: 'Login Form',
                    email: '',
                    password: ''
                }
                
            },
            methods: {
                handleSubmit() {
                    /*
                    regularly i would have to add the event as an argument and handle it like this
                    to stop default behaviour. however, vue allows the .prevent shorthand in the form
                    above to increase efficiency
                    e.preventDefault()
                    */
                    console.log("Email:" + this.email + " Password:" + this.password)
                }
            }
        })
        app.mount('#app')
    </script>
    
</body>
</html>